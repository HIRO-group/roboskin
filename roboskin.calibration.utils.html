

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>roboskin.calibration.utils package &mdash; roboskin  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="roboskin.examples package" href="roboskin.examples.html" />
    <link rel="prev" title="roboskin.calibration package" href="roboskin.calibration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> roboskin
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="roboskin.html">roboskin package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="roboskin.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="roboskin.calibration.html">roboskin.calibration package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="roboskin.calibration.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.convert_to_lowertriangular_matrix">roboskin.calibration.convert_to_lowertriangular_matrix module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.data_logger">roboskin.calibration.data_logger module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.error_functions">roboskin.calibration.error_functions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.error_functions_torch">roboskin.calibration.error_functions_torch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.evaluator">roboskin.calibration.evaluator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.kinematic_chain">roboskin.calibration.kinematic_chain module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.kinematic_chain_torch">roboskin.calibration.kinematic_chain_torch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.loss">roboskin.calibration.loss module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.optimizer">roboskin.calibration.optimizer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.stop_conditions">roboskin.calibration.stop_conditions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration.transformation_matrix">roboskin.calibration.transformation_matrix module</a></li>
<li class="toctree-l4"><a class="reference internal" href="roboskin.calibration.html#module-roboskin.calibration">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="roboskin.examples.html">roboskin.examples package</a></li>
<li class="toctree-l3"><a class="reference internal" href="roboskin.sensor.html">roboskin.sensor package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="roboskin.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="roboskin.html#module-roboskin.const">roboskin.const module</a></li>
<li class="toctree-l2"><a class="reference internal" href="roboskin.html#module-roboskin">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">roboskin</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="roboskin.html">roboskin package</a> &raquo;</li>
        
          <li><a href="roboskin.calibration.html">roboskin.calibration package</a> &raquo;</li>
        
      <li>roboskin.calibration.utils package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/roboskin.calibration.utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="roboskin-calibration-utils-package">
<h1>roboskin.calibration.utils package<a class="headerlink" href="#roboskin-calibration-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-roboskin.calibration.utils.io">
<span id="roboskin-calibration-utils-io-module"></span><h2>roboskin.calibration.utils.io module<a class="headerlink" href="#module-roboskin.calibration.utils.io" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="roboskin.calibration.utils.io.add_noise">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">add_noise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_types</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#add_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.add_noise" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.add_outlier">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">add_outlier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_types</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">outlier_ratio</span><span class="o">=</span><span class="default_value">0.25</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#add_outlier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.add_outlier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.initialize_logging">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">initialize_logging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_level</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#initialize_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.initialize_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Logging Module with given log_lvel</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.load_data">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">robot</span></em>, <em class="sig-param"><span class="n">directory</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for collecting acceleration data with poses</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>data</strong> – Data includes static and dynamic accelerations data</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.load_robot_configs">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">load_robot_configs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">configdir</span></em>, <em class="sig-param"><span class="n">robot</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#load_robot_configs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.load_robot_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads robot’s DH parameters, SUs’ DH parameters and their poses</p>
<dl class="simple">
<dt>configdir: str</dt><dd><p>Path to the config directory where robot yaml files exist</p>
</dd>
<dt>robot: str</dt><dd><p>Name of the robot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.n2s">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">n2s</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#n2s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.n2s" title="Permalink to this definition">¶</a></dt>
<dd><p>converts numpy array to string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<cite>np.array</cite>) – The numpy array to convert to a string.</p></li>
<li><p><strong>precision</strong> (<cite>int</cite>) – The precision desired on each entry in the array.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.outlier_index">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">outlier_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">outlier_ratio</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#outlier_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.outlier_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.parse_datadir">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">parse_datadir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datadir</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#parse_datadir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.parse_datadir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.io.t2s">
<code class="sig-prename descclassname">roboskin.calibration.utils.io.</code><code class="sig-name descname">t2s</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#t2s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.io.t2s" title="Permalink to this definition">¶</a></dt>
<dd><p>the equivalent of printing out
a pytorch tensor, but in string form.</p>
</dd></dl>

</div>
<div class="section" id="module-roboskin.calibration.utils.quaternion">
<span id="roboskin-calibration-utils-quaternion-module"></span><h2>roboskin.calibration.utils.quaternion module<a class="headerlink" href="#module-roboskin.calibration.utils.quaternion" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion.angle_between_quaternions">
<code class="sig-prename descclassname">roboskin.calibration.utils.quaternion.</code><code class="sig-name descname">angle_between_quaternions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q_1</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">q_2</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">output_in_degrees</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#angle_between_quaternions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion.angle_between_quaternions" title="Permalink to this definition">¶</a></dt>
<dd><p>Angle between quaternions a and b in degrees. Please note the input quaternions should be of
form np.ndarray([x, y, z, w]).
The formula for angle between quaternions is:</p>
<div class="math notranslate nohighlight">
\[\theta = \cos^{-1}\bigl(2\langle q_1,q_2\rangle^2 -1\bigr)\]</div>
<p>where ⟨q1,q2⟩ denotes the inner product of the corresponding quaternions:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\langle a_1 +b_1 \textbf{i} + c_1 \textbf{j} + d_1 \textbf{k}, \\
a_2 + b_2 \textbf{i} + c_2 \textbf{j} + d_2 \textbf{k}\rangle \\
= a_1a_2 + b_1b_2 + c_1 c_2 + d_1d_2.\end{split}\]</div>
<p>Reference: <a class="reference external" href="https://math.stackexchange.com/questions/90081/quaternion-distance">https://math.stackexchange.com/questions/90081/quaternion-distance</a>
:param q_1: np.ndarray</p>
<blockquote>
<div><p>Quaternion a</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q_2</strong> – np.ndarray
Quaternion b</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>float
Angle between quaternions in degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion.np_to_pyqt">
<code class="sig-prename descclassname">roboskin.calibration.utils.quaternion.</code><code class="sig-name descname">np_to_pyqt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#np_to_pyqt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion.np_to_pyqt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a numpyp quaternion to a pyqt array.
Order of a numpy quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion.pyqt_to_np">
<code class="sig-prename descclassname">roboskin.calibration.utils.quaternion.</code><code class="sig-name descname">pyqt_to_np</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#pyqt_to_np"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion.pyqt_to_np" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a pyqt quaternion to a numpy array.
Order of a numpy quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion.pyqt_to_tf">
<code class="sig-prename descclassname">roboskin.calibration.utils.quaternion.</code><code class="sig-name descname">pyqt_to_tf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#pyqt_to_tf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion.pyqt_to_tf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a pyqt quaternion to a tf array.
Order of a tf quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion.quaternion_from_two_vectors">
<code class="sig-prename descclassname">roboskin.calibration.utils.quaternion.</code><code class="sig-name descname">quaternion_from_two_vectors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#quaternion_from_two_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion.quaternion_from_two_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the quaternion from vector <cite>source</cite>
to vector <cite>target</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion.quaternion_l2_distance">
<code class="sig-prename descclassname">roboskin.calibration.utils.quaternion.</code><code class="sig-name descname">quaternion_l2_distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#quaternion_l2_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion.quaternion_l2_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>A metric for computing the distance
between 2 quaternions.
sources:
- <a class="reference external" href="https://fgiesen.wordpress.com/2013/01/07/small-note-on-quaternion-distance-metrics/">https://fgiesen.wordpress.com/2013/01/07/small-note-on-quaternion-distance-metrics/</a>
- <a class="reference external" href="http://kieranwynn.github.io/pyquaternion/#accessing-individual-elements">http://kieranwynn.github.io/pyquaternion/#accessing-individual-elements</a></p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion.tf_to_pyqt">
<code class="sig-prename descclassname">roboskin.calibration.utils.quaternion.</code><code class="sig-name descname">tf_to_pyqt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#tf_to_pyqt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion.tf_to_pyqt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a tf quaternion to a pyqt array.
Order of a tf quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

</div>
<div class="section" id="module-roboskin.calibration.utils.rotational_acceleration">
<span id="roboskin-calibration-utils-rotational-acceleration-module"></span><h2>roboskin.calibration.utils.rotational_acceleration module<a class="headerlink" href="#module-roboskin.calibration.utils.rotational_acceleration" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration.centripetal_acceleration">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration.</code><code class="sig-name descname">centripetal_acceleration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration.html#centripetal_acceleration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration.centripetal_acceleration" title="Permalink to this definition">¶</a></dt>
<dd><div class="math notranslate nohighlight">
\[`a = \omega \times \omega \times r`\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<cite>float</cite>) – Position vector r of the body in the inertial coordinate</p></li>
<li><p><strong>w</strong> (<cite>float</cite>) – Angular Velocity of an axis in the inertial coordinate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration.compute_2nd_order_derivative">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration.</code><code class="sig-name descname">compute_2nd_order_derivative</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_func</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">0.001</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration.html#compute_2nd_order_derivative"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration.compute_2nd_order_derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Take 2nd order derivative of x_func
This computation comes from the Taylor Expansion</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}x(t+dt) = x(t) + x'(t)*dt + 1/2 * x''(t)*dt^2\\x(t-dt) = x(t) - x'(t)*dt + 1/2 * x''(t)*dt^2\\x(t+dt) + x(t-dt) = 2*x(t) + x''(t)*dt^2\\x''(t) = \frac{x(t+dt) + x(t-dt) - 2*x(t)}{dt^2}\end{aligned}\end{align} \]</div>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration.compute_acceleration_analytically">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration.</code><code class="sig-name descname">compute_acceleration_analytically</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inert_w_body</span></em>, <em class="sig-param"><span class="n">inert_r_body</span></em>, <em class="sig-param"><span class="n">inert_alpha_body</span></em>, <em class="sig-param"><span class="n">body_R_inert</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">body_R_world</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inert_R_world</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">coordinate</span><span class="o">=</span><span class="default_value">'body'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration.html#compute_acceleration_analytically"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration.compute_acceleration_analytically" title="Permalink to this definition">¶</a></dt>
<dd><p>There are 3 coordinates to remember.
1. World Frame (Fixed to the world)
2. Inertial Frame (each Rotating Joint Coordinate)
3. Body Frame (SU Coordinate)</p>
<p>We use the following notation <cite>coord1_variable_coord2</cite>.
This represents a variable of coord2 defined in coord1.</p>
<p>For example, SU’s linear accelerations can be represented as rs_A_su.
It represents the acceleration A measured in SU coordinate defined in the world coordinate.
This is what we can measure from the real IMU as well.</p>
<p>We use the same notation for the rotation matrix <cite>coord1_R_coord2</cite>,
but this represents how you can rotate soem vector from <cite>coord2 to `coord1</cite>.</p>
<p>For example, if you want the gravity in the su coordinate,
su_g = su_R_rs * rs_g
As a result, the gravity defined in the RS frame is converted to the SU coordinate.</p>
<p>The inverse of the Rotation Matrix is its transpose.
Therefore, one can rotate it back to its original frame by
rs_g = rs_R_su * su_g = su_R_rs.T * su_g</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration.compute_acceleration_numerically">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration.</code><code class="sig-name descname">compute_acceleration_numerically</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kinematic_chain</span></em>, <em class="sig-param"><span class="n">i_rotate_joint</span></em>, <em class="sig-param"><span class="n">i_su</span></em>, <em class="sig-param"><span class="n">current_time</span></em>, <em class="sig-param"><span class="n">angle_func</span></em>, <em class="sig-param"><span class="n">method</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration.html#compute_acceleration_numerically"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration.compute_acceleration_numerically" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tangential acceleration in RS coordinate.
The acceleration is computed by taking 2nd derivative of the position.
This small change in position in Rotating Coordinate is only in the
tangential direction. Thus, you can only compute the tangential acceleration,
from this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kinematic_chain</strong> (<cite>roboskin.calibration.kinematic_chain.KinematicChain</cite>) – Robot’s Kinematic Chain</p></li>
<li><p><strong>'i_rotate_joint'</strong> (<em>'int'</em>) – dof ‘d’</p></li>
<li><p><strong>i</strong> (<cite>int</cite>) – imu <cite>i</cite></p></li>
<li><p><strong>current_time</strong> (<em>float`</em>) – Current Time</p></li>
<li><p><strong>angle_func</strong> (<em>function</em>) – A function to compute the current angle at time t</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration.estimate_acceleration">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration.</code><code class="sig-name descname">estimate_acceleration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kinematic_chain</span></em>, <em class="sig-param"><span class="n">i_rotate_joint</span></em>, <em class="sig-param"><span class="n">i_su</span></em>, <em class="sig-param"><span class="n">method</span></em>, <em class="sig-param"><span class="n">joint_angular_velocity</span></em>, <em class="sig-param"><span class="n">joint_angular_acceleration</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">current_time</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">angle_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration.html#estimate_acceleration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration.estimate_acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an acceleration value from positions.
.. math:: <cite>a = frac{f({Delta t}) + f({Delta t) - 2 f(0)}{h^2}</cite></p>
<p>This equation came from Taylor Expansion to get the second derivative from f(t).
.. math:: f(t+{Delta t}) = f(t) + hf^{prime}(t) + frac{h^2}{2}f^{primeprime}(t)
.. math:: f(t-{Delta t}) = f(t) - hf^{prime}(t) + frac{h^2}{2}f^{primeprime}(t)</p>
<p>Add both equations and plug t=0 to get the above equation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kinematic_chain</strong> (<cite>roboskin.calibration.kinematic_chain.KinematicChain</cite>) – Robot’s Kinematic Chain</p></li>
<li><p><strong>i_rotate_joint</strong> (<cite>int</cite>) – dof <cite>d</cite></p></li>
<li><p><strong>i_su</strong> (<cite>int</cite>) – <a href="#id1"><span class="problematic" id="id2">`</span></a>i`th SU</p></li>
<li><p><strong>joint_angular_velocity</strong> (<cite>float</cite>) – Angular velocity</p></li>
<li><p><strong>'max_angular_velocity'</strong> (<em>'float'</em>) – Maximum angular velocity</p></li>
<li><p><strong>current_time</strong> (<cite>float</cite>) – Current Time</p></li>
<li><p><strong>method</strong> (<cite>str</cite>) – Determines if we are using <cite>analytical</cite>, <cite>our</cite>, <cite>mittendorfer</cite> or <cite>modified_mittendorfer</cite>
methods (which we modified due to some possible missing terms).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration.remove_centripetal_component">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration.</code><code class="sig-name descname">remove_centripetal_component</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rs_A</span></em>, <em class="sig-param"><span class="n">rs_T_dof</span></em>, <em class="sig-param"><span class="n">dof_T_su</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration.html#remove_centripetal_component"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration.remove_centripetal_component" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration.tangential_acceleration">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration.</code><code class="sig-name descname">tangential_acceleration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">alpha</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration.html#tangential_acceleration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration.tangential_acceleration" title="Permalink to this definition">¶</a></dt>
<dd><div class="math notranslate nohighlight">
\[`a = lpha        imes r`\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<cite>float</cite>) – Position vector r of the body in the inertial coordinate</p></li>
<li><p><strong>alpha</strong> (<cite>float</cite>) – Angular Acceleration of an axis in the inertial coordinate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-roboskin.calibration.utils.rotational_acceleration_torch">
<span id="roboskin-calibration-utils-rotational-acceleration-torch-module"></span><h2>roboskin.calibration.utils.rotational_acceleration_torch module<a class="headerlink" href="#module-roboskin.calibration.utils.rotational_acceleration_torch" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration_torch.centripetal_acceleration_torch">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration_torch.</code><code class="sig-name descname">centripetal_acceleration_torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration_torch.html#centripetal_acceleration_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration_torch.centripetal_acceleration_torch" title="Permalink to this definition">¶</a></dt>
<dd><div class="math notranslate nohighlight">
\[`a = \omega \times \omega \times r`\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<cite>float</cite>) – Position vector r of the body in the inertial coordinate</p></li>
<li><p><strong>w</strong> (<cite>float</cite>) – Angular Velocity of an axis in the inertial coordinate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration_torch.compute_2nd_order_derivative_torch">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration_torch.</code><code class="sig-name descname">compute_2nd_order_derivative_torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_func</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">0.001</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration_torch.html#compute_2nd_order_derivative_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration_torch.compute_2nd_order_derivative_torch" title="Permalink to this definition">¶</a></dt>
<dd><p>Take 2nd order derivative of x_func
This computation comes from the Taylor Expansion</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}x(t+dt) = x(t) + x'(t)*dt + 1/2 * x''(t)*dt^2\\x(t-dt) = x(t) - x'(t)*dt + 1/2 * x''(t)*dt^2\\x(t+dt) + x(t-dt) = 2*x(t) + x''(t)*dt^2\\x''(t) = \frac{x(t+dt) + x(t-dt) - 2*x(t)}{dt^2}\end{aligned}\end{align} \]</div>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration_torch.compute_acceleration_analytically_torch">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration_torch.</code><code class="sig-name descname">compute_acceleration_analytically_torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inert_w_body</span></em>, <em class="sig-param"><span class="n">inert_r_body</span></em>, <em class="sig-param"><span class="n">inert_alpha_body</span></em>, <em class="sig-param"><span class="n">body_R_inert</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">body_R_world</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inert_R_world</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">coordinate</span><span class="o">=</span><span class="default_value">'body'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration_torch.html#compute_acceleration_analytically_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration_torch.compute_acceleration_analytically_torch" title="Permalink to this definition">¶</a></dt>
<dd><p>There are 3 coordinates to remember.
1. World Frame (Fixed to the world)
2. Inertial Frame (each Rotating Joint Coordinate)
3. Body Frame (SU Coordinate)</p>
<p>We use the following notation <cite>coord1_variable_coord2</cite>.
This represents a variable of coord2 defined in coord1.</p>
<p>For example, SU’s linear accelerations can be represented as rs_A_su.
It represents the acceleration A measured in SU coordinate defined in the world coordinate.
This is what we can measure from the real IMU as well.</p>
<p>We use the same notation for the rotation matrix <cite>coord1_R_coord2</cite>,
but this represents how you can rotate soem vector from <cite>coord2 to `coord1</cite>.</p>
<p>For example, if you want the gravity in the su coordinate,
su_g = su_R_rs * rs_g
As a result, the gravity defined in the RS frame is converted to the SU coordinate.</p>
<p>The inverse of the Rotation Matrix is its transpose.
Therefore, one can rotate it back to its original frame by
rs_g = rs_R_su * su_g = su_R_rs.T * su_g</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration_torch.compute_acceleration_numerically_torch">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration_torch.</code><code class="sig-name descname">compute_acceleration_numerically_torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kinematic_chain</span></em>, <em class="sig-param"><span class="n">i_rotate_joint</span></em>, <em class="sig-param"><span class="n">i_su</span></em>, <em class="sig-param"><span class="n">current_time</span></em>, <em class="sig-param"><span class="n">angle_func</span></em>, <em class="sig-param"><span class="n">method</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration_torch.html#compute_acceleration_numerically_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration_torch.compute_acceleration_numerically_torch" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tangential acceleration in RS coordinate.
The acceleration is computed by taking 2nd derivative of the position.
This small change in position in Rotating Coordinate is only in the
tangential direction. Thus, you can only compute the tangential acceleration,
from this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kinematic_chain</strong> (<cite>roboskin.calibration.kinematic_chain.KinematicChain</cite>) – Robot’s Kinematic Chain</p></li>
<li><p><strong>'i_rotate_joint'</strong> (<em>'int'</em>) – dof ‘d’</p></li>
<li><p><strong>i</strong> (<cite>int</cite>) – imu <cite>i</cite></p></li>
<li><p><strong>current_time</strong> (<em>float`</em>) – Current Time</p></li>
<li><p><strong>angle_func</strong> (<em>function</em>) – A function to compute the current angle at time t</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration_torch.estimate_acceleration_torch">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration_torch.</code><code class="sig-name descname">estimate_acceleration_torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kinematic_chain</span></em>, <em class="sig-param"><span class="n">i_rotate_joint</span></em>, <em class="sig-param"><span class="n">i_su</span></em>, <em class="sig-param"><span class="n">method</span></em>, <em class="sig-param"><span class="n">joint_angular_velocity</span></em>, <em class="sig-param"><span class="n">joint_angular_acceleration</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">current_time</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">angle_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration_torch.html#estimate_acceleration_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration_torch.estimate_acceleration_torch" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an acceleration value from positions.
.. math:: <cite>a = frac{f({Delta t}) + f({Delta t) - 2 f(0)}{h^2}</cite></p>
<p>This equation came from Taylor Expansion to get the second derivative from f(t).
.. math:: f(t+{Delta t}) = f(t) + hf^{prime}(t) + frac{h^2}{2}f^{primeprime}(t)
.. math:: f(t-{Delta t}) = f(t) - hf^{prime}(t) + frac{h^2}{2}f^{primeprime}(t)</p>
<p>Add both equations and plug t=0 to get the above equation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kinematic_chain</strong> (<cite>roboskin.calibration.kinematic_chain.KinematicChain</cite>) – Robot’s Kinematic Chain</p></li>
<li><p><strong>i_rotate_joint</strong> (<cite>int</cite>) – dof <cite>d</cite></p></li>
<li><p><strong>i_su</strong> (<cite>int</cite>) – <a href="#id3"><span class="problematic" id="id4">`</span></a>i`th SU</p></li>
<li><p><strong>joint_angular_velocity</strong> (<cite>float</cite>) – Angular velocity</p></li>
<li><p><strong>'max_angular_velocity'</strong> (<em>'float'</em>) – Maximum angular velocity</p></li>
<li><p><strong>current_time</strong> (<cite>float</cite>) – Current Time</p></li>
<li><p><strong>method</strong> (<cite>str</cite>) – Determines if we are using <cite>analytical</cite>, <cite>our</cite>, <cite>mittendorfer</cite> or <cite>modified_mittendorfer</cite>
methods (which we modified due to some possible missing terms).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration_torch.remove_centripetal_component_torch">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration_torch.</code><code class="sig-name descname">remove_centripetal_component_torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rs_A</span></em>, <em class="sig-param"><span class="n">rs_T_dof</span></em>, <em class="sig-param"><span class="n">dof_T_su</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration_torch.html#remove_centripetal_component_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration_torch.remove_centripetal_component_torch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.rotational_acceleration_torch.tangential_acceleration_torch">
<code class="sig-prename descclassname">roboskin.calibration.utils.rotational_acceleration_torch.</code><code class="sig-name descname">tangential_acceleration_torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">alpha</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/rotational_acceleration_torch.html#tangential_acceleration_torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.rotational_acceleration_torch.tangential_acceleration_torch" title="Permalink to this definition">¶</a></dt>
<dd><div class="math notranslate nohighlight">
\[`a = lpha        imes r`\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<cite>float</cite>) – Position vector r of the body in the inertial coordinate</p></li>
<li><p><strong>alpha</strong> (<cite>float</cite>) – Angular Acceleration of an axis in the inertial coordinate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-roboskin.calibration.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-roboskin.calibration.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="roboskin.calibration.utils.add_noise">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">add_noise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_types</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#add_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.add_noise" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.add_outlier">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">add_outlier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_types</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">sigma</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">outlier_ratio</span><span class="o">=</span><span class="default_value">0.25</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#add_outlier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.add_outlier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.angle_between_quaternions">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">angle_between_quaternions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q_1</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">q_2</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">output_in_degrees</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#angle_between_quaternions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.angle_between_quaternions" title="Permalink to this definition">¶</a></dt>
<dd><p>Angle between quaternions a and b in degrees. Please note the input quaternions should be of
form np.ndarray([x, y, z, w]).
The formula for angle between quaternions is:</p>
<div class="math notranslate nohighlight">
\[\theta = \cos^{-1}\bigl(2\langle q_1,q_2\rangle^2 -1\bigr)\]</div>
<p>where ⟨q1,q2⟩ denotes the inner product of the corresponding quaternions:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\langle a_1 +b_1 \textbf{i} + c_1 \textbf{j} + d_1 \textbf{k}, \\
a_2 + b_2 \textbf{i} + c_2 \textbf{j} + d_2 \textbf{k}\rangle \\
= a_1a_2 + b_1b_2 + c_1 c_2 + d_1d_2.\end{split}\]</div>
<p>Reference: <a class="reference external" href="https://math.stackexchange.com/questions/90081/quaternion-distance">https://math.stackexchange.com/questions/90081/quaternion-distance</a>
:param q_1: np.ndarray</p>
<blockquote>
<div><p>Quaternion a</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q_2</strong> – np.ndarray
Quaternion b</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>float
Angle between quaternions in degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.initialize_logging">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">initialize_logging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_level</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">filename</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#initialize_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.initialize_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Logging Module with given log_lvel</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.load_data">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">robot</span></em>, <em class="sig-param"><span class="n">directory</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for collecting acceleration data with poses</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>data</strong> – Data includes static and dynamic accelerations data</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.load_robot_configs">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">load_robot_configs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">configdir</span></em>, <em class="sig-param"><span class="n">robot</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#load_robot_configs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.load_robot_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads robot’s DH parameters, SUs’ DH parameters and their poses</p>
<dl class="simple">
<dt>configdir: str</dt><dd><p>Path to the config directory where robot yaml files exist</p>
</dd>
<dt>robot: str</dt><dd><p>Name of the robot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.n2s">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">n2s</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#n2s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.n2s" title="Permalink to this definition">¶</a></dt>
<dd><p>converts numpy array to string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<cite>np.array</cite>) – The numpy array to convert to a string.</p></li>
<li><p><strong>precision</strong> (<cite>int</cite>) – The precision desired on each entry in the array.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.np_to_pyqt">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">np_to_pyqt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#np_to_pyqt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.np_to_pyqt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a numpyp quaternion to a pyqt array.
Order of a numpy quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.parse_datadir">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">parse_datadir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datadir</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/io.html#parse_datadir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.parse_datadir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.pyqt_to_np">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">pyqt_to_np</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#pyqt_to_np"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.pyqt_to_np" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a pyqt quaternion to a numpy array.
Order of a numpy quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.pyqt_to_tf">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">pyqt_to_tf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#pyqt_to_tf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.pyqt_to_tf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a pyqt quaternion to a tf array.
Order of a tf quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion_from_two_vectors">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">quaternion_from_two_vectors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#quaternion_from_two_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion_from_two_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the quaternion from vector <cite>source</cite>
to vector <cite>target</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.quaternion_l2_distance">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">quaternion_l2_distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#quaternion_l2_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.quaternion_l2_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>A metric for computing the distance
between 2 quaternions.
sources:
- <a class="reference external" href="https://fgiesen.wordpress.com/2013/01/07/small-note-on-quaternion-distance-metrics/">https://fgiesen.wordpress.com/2013/01/07/small-note-on-quaternion-distance-metrics/</a>
- <a class="reference external" href="http://kieranwynn.github.io/pyquaternion/#accessing-individual-elements">http://kieranwynn.github.io/pyquaternion/#accessing-individual-elements</a></p>
</dd></dl>

<dl class="py function">
<dt id="roboskin.calibration.utils.tf_to_pyqt">
<code class="sig-prename descclassname">roboskin.calibration.utils.</code><code class="sig-name descname">tf_to_pyqt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/roboskin/calibration/utils/quaternion.html#tf_to_pyqt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#roboskin.calibration.utils.tf_to_pyqt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a tf quaternion to a pyqt array.
Order of a tf quaternion
q = (x, y, z, w)</p>
<p>Order of a pyqt quaternion
q = (w, x, y, z)</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="roboskin.examples.html" class="btn btn-neutral float-right" title="roboskin.examples package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="roboskin.calibration.html" class="btn btn-neutral float-left" title="roboskin.calibration package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Kandai Watanabe

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>